<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuring The Firewall/Router &mdash; Nukestar 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Nukestar 0.1 documentation" href="index.html" />
    <link rel="next" title="Configure Head Node" href="head_node.html" />
    <link rel="prev" title="Setup and Install" href="setup.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="head_node.html" title="Configure Head Node"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="setup.html" title="Setup and Install"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Nukestar 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuring-the-firewall-router">
<h1>Configuring The Firewall/Router<a class="headerlink" href="#configuring-the-firewall-router" title="Permalink to this headline">¶</a></h1>
<p>Configure the WAN and LAN interfaces during the initial install procedure.
Ensure a DHCP server is running on the LAN interface.  The internal network should be
setup assign IPs by default on 192.168.1.xxx/255.255.255.0 subnet.  The default IP of the LAN interface
should be 192.168.1.1.  The web configuration may be accessed at this address from the internal
network.  From the head node, type in this IP address into the web browsers URL field to do so.</p>
<p>The system administrator must gather all MAC addresses for all computers in the
cluster. The easiest way to do this is just to power on every computer in the cluster.  Under the
&#8220;DHCP server&#8221; tab in the web configurator there should be information on the current DHCP leases.
This list will contain the IP addresses and MAC addresses of all computers that are currently on
the LAN network.  The easiest way to ensure the compute nodes are assigned hostnames in a physically
meaningful way is to power on each node in the cluster one-by-one, making note of it&#8217;s physical location
and assigning an IP and hostname in an organized manner.</p>
<p>Static IP&#8217;s may be assigned to all nodes in the cluster under the DHCP/LAN tab in the firewall
web-configurator once the MAC addresses of the machines are known.  Assigning each machine a static IP on
the LAN is essential to ensure that PXE booting, NFS filesystem sharing, and Torque-Maui operate properly.</p>
<div class="section" id="nat">
<h2>NAT<a class="headerlink" href="#nat" title="Permalink to this headline">¶</a></h2>
<p>Stands for Network address Translation.  Under the &#8220;NAT&#8221; tab, configure WAN port 22 to be forwarded to the Head node.
A new firewall rule will be created.  One that allows all outside traffic targeted at port 22
to the head node port 22.  Port 22 is the default port that the ssh-server daemon listens on.</p>
</div>
<div class="section" id="allow-pxe-booting">
<h2>Allow PXE booting<a class="headerlink" href="#allow-pxe-booting" title="Permalink to this headline">¶</a></h2>
<p>In the DHCP server configuration tab ensure you enable network booting!  This is critical for the diskless clients to retrieve
the boot image from the head node at startup.  Check the TFTP server box.  Enable network booting.
For the server address put the head node&#8217;s IP address <code class="docutils literal"><span class="pre">192.168.1.101</span></code> and for the filename put <code class="docutils literal"><span class="pre">pxelinux.0</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is VERY important!</p>
</div>
</div>
<div class="section" id="other-software">
<h2>Other Software<a class="headerlink" href="#other-software" title="Permalink to this headline">¶</a></h2>
<p>The default install of PfSense is quite secure.  The default firewall rules (+ the NAT rule) will work for most situations.
Many packages are available that improve the monitoring capabilities of PfSense.  The admin should consider installing
PFblocker and Snort.  PFblocker allows the admin to easily block IPs from specific countries.  It is recommended to block all of
Africa, Asia + Russia, and South America.  Snort is an intrusion detection package.  You can download &#8220;rules&#8221; from &lt;website here&gt;
to filter and log specific traffic.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuring The Firewall/Router</a><ul>
<li><a class="reference internal" href="#nat">NAT</a></li>
<li><a class="reference internal" href="#allow-pxe-booting">Allow PXE booting</a></li>
<li><a class="reference internal" href="#other-software">Other Software</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="setup.html"
                        title="previous chapter">Setup and Install</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="head_node.html"
                        title="next chapter">Configure Head Node</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/firewall.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="head_node.html" title="Configure Head Node"
             >next</a> |</li>
        <li class="right" >
          <a href="setup.html" title="Setup and Install"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Nukestar 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, william gurecky.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>